<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Columbus East Tax Services ‚Äî Luxury Booking (Design)</title>

<style>
  *{box-sizing:border-box;margin:0;padding:0}

  :root{
    --galaxy-hue: 220;
    --glass: rgba(8,10,18,.68);
    --glass2: rgba(12,16,28,.58);
    --shadow: 0 40px 120px rgba(0,0,0,.80);
    --ring: rgba(215,184,106,.22);

    /* ‚úÖ EARTH SIZE CONTROL (make bigger here) */
    --earth-size: min(150%, 1200px); /* increase 150% -> 165% if you want even bigger */
  }

  html,body{height:100%}
  body{
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Helvetica, sans-serif;
    color:#fff;
    overflow-x:hidden;
    background: radial-gradient(circle at 30% 20%, #0b1a3c, #020617 70%);
  }

  canvas#starfield{
    position:fixed;
    inset:0;
    width:100vw;
    height:100vh;
    z-index:-5;
    display:block;
  }

  /* ORBITING GLASS PLANETS */
  .space-layer{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:-2;
    opacity:.9;
  }
  .planet-orbit{
    position:absolute;
    border-radius:50%;
    width:560px;height:560px;
    transform-origin:center;
    animation:orbit-slow 28s linear infinite;
  }
  .planet-orbit.fast{width:380px;height:380px;animation-duration:18s}
  .planet-orbit.medium{width:480px;height:480px;animation-duration:22s}
  .planet-orbit.orbit-1{top:6%;left:calc(50% - 280px)}
  .planet-orbit.orbit-2{top:62%;left:calc(50% - 240px)}
  .planet-orbit.orbit-3{top:26%;left:calc(50% - 190px)}
  .planet-glass{
    position:absolute;border-radius:50%;
    background:
      radial-gradient(circle at 30% 30%, rgba(255,255,255,.92), rgba(255,255,255,.10) 40%, rgba(0,0,0,0) 70%),
      conic-gradient(from 120deg,
        hsl(calc(var(--galaxy-hue) * 1deg), 90%, 65%),
        hsl(calc((var(--galaxy-hue) + 70) * 1deg), 90%, 60%),
        hsl(calc((var(--galaxy-hue) + 140) * 1deg), 90%, 62%),
        hsl(calc((var(--galaxy-hue) + 210) * 1deg), 90%, 60%),
        hsl(calc((var(--galaxy-hue) + 280) * 1deg), 90%, 60%),
        hsl(calc(var(--galaxy-hue) * 1deg), 90%, 65%)
      );
    box-shadow:
      0 0 18px hsla(calc(var(--galaxy-hue) * 1deg), 90%, 65%, 0.55),
      0 0 60px hsla(calc((var(--galaxy-hue) + 110) * 1deg), 90%, 62%, 0.40);
    opacity:.72;
    animation:floaty 5.6s ease-in-out infinite;
  }
  .planet-orbit.fast .planet-glass{animation-duration:4.8s}
  .planet-orbit.medium .planet-glass{animation-duration:6.2s}
  .planet-glass.big{width:160px;height:160px;top:-80px;left:calc(50% - 80px)}
  .planet-glass.medium{width:110px;height:110px;top:calc(50% - 55px);left:-55px}
  .planet-glass.small{width:86px;height:86px;top:calc(100% - 43px);left:calc(50% - 43px)}
  @keyframes orbit-slow{to{transform:rotate(360deg)}}
  @keyframes floaty{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}

  /* LAYOUT */
  .wrap{max-width:1020px;margin:0 auto;padding:24px;position:relative;z-index:5}

  .card{
    position:relative;
    border-radius:28px;
    overflow:hidden;
    padding:34px 24px 22px;
    background:
      radial-gradient(circle at 12% 10%, rgba(215,184,106,0.14), rgba(215,184,106,0) 40%),
      radial-gradient(circle at 88% 0%, rgba(121,91,255,0.14), rgba(121,91,255,0) 40%),
      linear-gradient(180deg, var(--glass2), var(--glass));
    border:1px solid rgba(255,255,255,0.10);
    box-shadow: var(--shadow);
    backdrop-filter: blur(18px) saturate(160%);
    -webkit-backdrop-filter: blur(18px) saturate(160%);
  }

  /* ‚úÖ EARTH LAYER (behind content, inside card) */
  .earth-wrap{
    position:absolute;
    inset:-10%;
    display:flex;
    align-items:center;
    justify-content:center;
    pointer-events:none;
    z-index:0; /* behind content */
  }

  .earth{
    width: var(--earth-size);
    height: var(--earth-size);
    border-radius: 50%;
    position: relative;

    /* ‚úÖ your repo file (RAW URL) */
    background-image: url("https://raw.githubusercontent.com/sinyalfa/booking-portal/main/earth.jpg");
    background-repeat: repeat-x;
    background-size: 240% 100%;
    background-position: 0% 50%;

    opacity: .70;

    box-shadow:
      inset -170px 0 220px rgba(0,0,0,.88),
      inset 0 0 70px rgba(0,0,0,.45),
      0 0 140px rgba(80,140,255,.20);

    filter: saturate(1.10) contrast(1.06);
    animation: earthSpin 46s linear infinite;
  }

  .earth::before{
    content:"";
    position:absolute;
    inset:-18px;
    border-radius:50%;
    background: radial-gradient(circle at 45% 35%, rgba(120,190,255,.20), rgba(120,190,255,0) 62%);
    filter: blur(2px);
  }

  @keyframes earthSpin{
    from{background-position:0% 50%}
    to{background-position:-240% 50%}
  }

  /* Ensure content is above Earth */
  .card > *{position:relative;z-index:2}

  /* HEADER */
  .logo{width:330px;max-width:92%;display:block;margin:0 auto 10px;opacity:.95}
  .topline{text-align:center;margin-bottom:10px}
  .title{font-size:22px;font-weight:900;color:rgba(255,255,255,.95)}
  .subtitle{margin-top:6px;font-size:13px;font-weight:800;color:rgba(233,238,252,.72)}
  .divider{
    width:180px;height:1px;margin:12px auto 14px;
    background: linear-gradient(90deg, rgba(247,231,177,0), rgba(247,231,177,.65), rgba(215,184,106,.35), rgba(247,231,177,0));
    opacity:.9;
  }

  .clock-line{
    margin: 10px auto 18px;
    max-width: 560px;
    font-size: 14px;
    font-weight: 950;
    color: rgba(255,255,255,0.92);
    text-align:center;
    padding: 10px 14px;
    border-radius: 999px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(247,231,177,0.18);
    letter-spacing: 0.5px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* BUTTONS */
  .btn{
    width:100%;
    border:0;
    cursor:pointer;
    border-radius:18px;
    padding:15px 16px;
    font-weight:950;
    font-size:15px;
    color:rgba(255,255,255,.95);
    box-shadow:0 14px 30px rgba(0,0,0,.55);
    margin:10px 0;
    position:relative;
  }
  .call{background:linear-gradient(135deg, rgba(37,99,235,.95), rgba(99,102,241,.75))}
  .text{background:linear-gradient(135deg, rgba(22,163,74,.95), rgba(34,197,94,.70))}
  .email{background:linear-gradient(135deg, rgba(147,51,234,.95), rgba(236,72,153,.55))}
  .book{
    background:linear-gradient(135deg, rgba(247,231,177,.95), rgba(215,184,106,.85), rgba(155,123,47,.80));
    color: rgba(10,12,18,0.92);
  }

  /* BOOKING PANEL */
  .booking{margin-top:12px;max-height:0;overflow:hidden;transition:max-height .55s ease}
  .booking.open{max-height:2600px}

  .section{
    margin-top:12px;
    border-radius:22px;
    padding:16px;
    background:rgba(255,255,255,.05);
    border:1px solid rgba(247,231,177,.14);
    box-shadow:0 18px 52px rgba(0,0,0,.45);
  }

  .section-top{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:10px}
  .subline{font-size:14px;font-weight:1000;color:rgba(255,255,255,.92)}
  .now{margin-top:3px;font-size:12px;font-weight:850;color:rgba(247,231,177,.75)}
  .chips{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
  .chip{
    display:inline-flex;align-items:center;gap:8px;
    padding:7px 10px;border-radius:999px;
    border:1px solid rgba(247,231,177,.18);
    background:rgba(255,255,255,.05);
    color:rgba(255,255,255,.82);
    font-size:12px;font-weight:900;
  }
  .chip .dot{width:9px;height:9px;border-radius:999px;background:rgba(215,184,106,.95);box-shadow:0 0 0 3px rgba(215,184,106,.18)}

  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px}
  @media (max-width:720px){
    .section-top{flex-direction:column;align-items:flex-start}
    .chips{justify-content:flex-start}
    .row{grid-template-columns:1fr}
  }

  label{
    font-size:12px;font-weight:950;color:rgba(255,255,255,.86);
    margin-bottom:6px;display:flex;align-items:center;gap:8px;
  }

  input, select{
    width:100%;
    padding:12px 12px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.16);
    background: rgba(255,255,255,.08);
    color: rgba(255,255,255,.92);
    outline:none;
    font-size:14px;
  }
  input::placeholder{color:rgba(233,238,252,.40)}

  /* ‚úÖ DROPDOWN FIX (options visible) */
  select option{background:#ffffff;color:#0b1220}

  .slots-title{
    margin:16px 0 10px;
    display:flex;align-items:center;justify-content:space-between;
    font-size:13px;font-weight:950;color:rgba(255,255,255,.88);
  }
  .slots-title .hint{font-size:12px;font-weight:850;color:rgba(233,238,252,.55)}

  .times{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px}
  .slot{
    padding:12px;border-radius:16px;
    border:1px solid rgba(215,184,106,.38);
    background:rgba(255,255,255,.06);
    color: rgba(247,231,177,.92);
    font-size:14px;font-weight:1000;text-align:center;
    cursor:pointer;user-select:none;
    box-shadow:0 12px 26px rgba(0,0,0,.35);
  }
  .slot.active{
    background:rgba(215,184,106,.16);
    border-color:rgba(247,231,177,.78);
    color:rgba(255,255,255,.95);
    box-shadow:0 0 0 4px rgba(215,184,106,.14), 0 18px 40px rgba(0,0,0,.55);
  }
  .slot.disabled{
    opacity:.55;cursor:not-allowed;box-shadow:none;
    border-color:rgba(255,255,255,.10);color:rgba(233,238,252,.55);
  }

  .btn.confirm{
    margin-top:14px;
    background:linear-gradient(135deg, rgba(247,231,177,.95), rgba(215,184,106,.85), rgba(155,123,47,.80));
    color: rgba(10,12,18,0.92);
  }
  .btn.confirm:disabled{opacity:.55;cursor:not-allowed;box-shadow:none}

  .msg{
    margin-top:12px;padding:12px;border-radius:16px;
    font-size:13px;font-weight:950;display:none;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.05);
  }
  .msg.ok{display:block;border-color:rgba(34,197,94,.35);color:rgba(187,247,208,.92)}
  .msg.warn{display:block;border-color:rgba(247,231,177,.18);color:rgba(247,231,177,.88)}
  .msg.bad{display:block;border-color:rgba(248,113,113,.30);color:rgba(254,202,202,.92)}

  .note{
    margin-top:14px;
    text-align:center;
    color:rgba(233,238,252,.55);
    font-weight:850;font-size:12px;
  }
</style>
</head>

<body>
  <canvas id="starfield"></canvas>

  <div class="space-layer">
    <div class="planet-orbit orbit-1"><div class="planet-glass big"></div></div>
    <div class="planet-orbit orbit-2 medium"><div class="planet-glass medium"></div></div>
    <div class="planet-orbit orbit-3 fast"><div class="planet-glass small"></div></div>
  </div>

  <div class="wrap">
    <div class="card">

      <!-- ‚úÖ EARTH BEHIND DARK GLASS -->
      <div class="earth-wrap" aria-hidden="true">
        <div class="earth"></div>
      </div>

      <img class="logo" src="https://raw.githubusercontent.com/sinyalfa/booking-portal/main/logo11.png" alt="Columbus East Tax Services Logo" />

      <div class="topline">
        <div class="title">Appointments & Support</div>
        <div class="subtitle">Premium service ‚Ä¢ fast booking ‚Ä¢ clear confirmations</div>
      </div>

      <div class="divider"></div>
      <div id="clockLine" class="clock-line"></div>

      <button class="btn call" onclick="window.location='tel:6142597625'">üìû Call Now</button>
      <button class="btn text" onclick="window.location='sms:6142597625'">üí¨ Text Us</button>
      <button class="btn email" onclick="window.location='mailto:columbuseast.taxservices@outlook.com'">‚úâÔ∏è Email Us</button>

      <button class="btn book" id="toggleBtn" type="button">‚ú® Book Appointment</button>

      <div id="booking" class="booking">
        <div class="section">
          <div class="section-top">
            <div>
              <div class="subline">Reserve Your Time</div>
              <div id="nowLine" class="now"></div>
            </div>
            <div class="chips">
              <div class="chip"><span class="dot"></span> Availability</div>
              <div class="chip">60 min</div>
            </div>
          </div>

          <div class="row">
            <div>
              <label for="fullName">Full Name</label>
              <input id="fullName" placeholder="Your full name" autocomplete="name" />
            </div>
            <div>
              <label for="email">Email</label>
              <input id="email" placeholder="you@example.com" autocomplete="email" />
            </div>
          </div>

          <div class="row">
            <div>
              <label for="service">Service</label>
              <select id="service">
                <option>W-2 / Individual Taxes</option>
                <option>1099 / Self-Employed Taxes</option>
                <option>LLC / Small Business Filing</option>
                <option>Audit Help & IRS Letters</option>
                <option>Amended Returns (1040-X)</option>
              </select>
            </div>

            <div>
              <label for="location">Location</label>
              <select id="location">
                <option>CML Whitehall Branch ‚Äî 4445 E Broad St</option>
                <option>CML Reynoldsburg Branch ‚Äî 1402 Brice Rd</option>
                <option>CML Livingston Branch ‚Äî 3434 E Livingston Ave</option>
                <option>CML Groveport Branch ‚Äî 4980 S Hamilton Rd</option>
                <option>Online / Phone / Text</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label for="date">Date</label>
              <input id="date" type="date" />
            </div>
            <div>
              <label for="duration">Length</label>
              <select id="duration">
                <option value="60">60 minutes</option>
              </select>
            </div>
          </div>

          <div class="slots-title">
            <span>Available Times</span>
            <span class="hint" id="slotHint">Choose a time</span>
          </div>

          <div id="times" class="times"></div>

          <button id="confirmBtn" class="btn confirm" disabled type="button">Confirm Booking</button>
          <div id="msg" class="msg"></div>
        </div>
      </div>

      <div class="note">Design mode: no database writes ‚Ä¢ safe to test</div>
    </div>
  </div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const pad = (n)=>String(n).padStart(2,"0");
  const todayYMD = ()=>{
    const d=new Date();
    return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
  };
  const makeLocalDateTimeFrom24 = (dateStr, hm)=>{
    const [H,M]=hm.split(":").map(Number);
    const [Y,m,D]=dateStr.split("-").map(Number);
    return new Date(Y, m-1, D, H, M, 0, 0);
  };
  const isValidEmail = (v)=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
  const to12hLabel = (hm)=>{
    let [H,M]=hm.split(":").map(Number);
    const ampm = H>=12?"PM":"AM";
    H=H%12; if(H===0)H=12;
    return `${pad(H)}:${pad(M)} ${ampm}`;
  };

  // Galaxy hue sync
  function applyGalaxy(){
    const now=new Date();
    const h=now.getHours(), m=now.getMinutes(), s=now.getSeconds();
    const hue=(h*15+m*0.25+s*(0.25/60))%360;
    document.documentElement.style.setProperty("--galaxy-hue", hue.toFixed(2));
    const c1=`hsl(${hue.toFixed(1)},72%,18%)`;
    const c2=`hsl(${((hue+55)%360).toFixed(1)},78%,9%)`;
    const c3=`hsl(${((hue+120)%360).toFixed(1)},82%,6%)`;
    document.body.style.background=`radial-gradient(circle at 30% 20%, ${c1}, ${c2} 55%, ${c3} 100%)`;
  }
  applyGalaxy();
  setInterval(applyGalaxy, 10000);

  // Clock
  const clockLine=document.getElementById("clockLine");
  const nowLine=document.getElementById("nowLine");
  function updateClock(){
    const now=new Date();
    const datePart=new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"2-digit",year:"numeric"}).format(now);
    const timePart=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false}).format(now);
    clockLine.textContent=`${datePart} ‚Ä¢ ${timePart}`;
    if(nowLine) nowLine.textContent=`Now: ${datePart} ‚Ä¢ ${timePart}`;
  }
  updateClock();
  setInterval(updateClock, 1000);

  // Elements
  const toggleBtn=document.getElementById("toggleBtn");
  const booking=document.getElementById("booking");
  const timesBox=document.getElementById("times");
  const confirmBtn=document.getElementById("confirmBtn");
  const msg=document.getElementById("msg");
  const slotHint=document.getElementById("slotHint");
  const fullNameEl=document.getElementById("fullName");
  const emailEl=document.getElementById("email");
  const dateEl=document.getElementById("date");

  let selectedSlot=null;

  function getAllowedHours(dow){
    if(dow>=1 && dow<=5) return [9,10,11,12,17,18,19,20];
    if(dow===6) return [8,9,10,11,12,13,14,15,16,17,18,19];
    return [9,10,11,12,13,14,15,16,17,18,19];
  }

  function validateForm(){
    const nameOk=(fullNameEl.value||"").trim().length>1;
    const emailOk=isValidEmail((emailEl.value||"").trim());
    const slotOk=!!selectedSlot;
    confirmBtn.disabled=!(nameOk && emailOk && slotOk);
    if(slotOk) slotHint.textContent="Ready to confirm";
  }

  function refreshSlots(){
    const ymd=dateEl.value;
    timesBox.innerHTML="";
    selectedSlot=null;
    confirmBtn.disabled=true;
    msg.className="msg";
    msg.textContent="";
    slotHint.textContent="Choose a time";

    if(!ymd){
      msg.className="msg warn";
      msg.textContent="Please choose a date.";
      slotHint.textContent="Choose a date first";
      return;
    }

    const dateObj=new Date(ymd+"T00:00:00");
    const dow=dateObj.getDay();
    const allowed=getAllowedHours(dow);

    // Design mode fake bookings
    const fakeBooked=new Set();
    if(dow===1) fakeBooked.add("11:00");
    if(dow===2) fakeBooked.add("17:00");
    if(dow===6) fakeBooked.add("12:00");

    const now=new Date();
    let any=false;

    allowed.forEach(H=>{
      const hm=`${pad(H)}:00`;
      const slotDate=makeLocalDateTimeFrom24(ymd, hm);
      const isPast=(ymd===todayYMD()) && (slotDate<=now);
      const isBooked=fakeBooked.has(hm);

      const div=document.createElement("div");
      div.className="slot";
      div.textContent=to12hLabel(hm);

      if(isBooked || isPast){
        div.classList.add("disabled");
      }else{
        any=true;
        div.addEventListener("click",()=>{
          document.querySelectorAll(".slot").forEach(x=>x.classList.remove("active"));
          div.classList.add("active");
          selectedSlot=hm;
          validateForm();
        });
      }
      timesBox.appendChild(div);
    });

    if(!any){
      msg.className="msg warn";
      msg.textContent="No times available (design mode).";
      slotHint.textContent="No times available";
    }else{
      msg.className="msg warn";
      msg.textContent="Select a time to continue.";
    }
  }

  // ‚úÖ Booking toggle works
  toggleBtn.addEventListener("click", ()=>{
    booking.classList.toggle("open");
    if(booking.classList.contains("open")){
      if(!dateEl.value) dateEl.value=todayYMD();
      refreshSlots();
    }
  });

  fullNameEl.addEventListener("input", validateForm);
  emailEl.addEventListener("input", validateForm);
  dateEl.addEventListener("change", ()=>{ refreshSlots(); validateForm(); });

  confirmBtn.addEventListener("click", ()=>{
    msg.className="msg ok";
    msg.textContent="‚úì Design mode: confirmation preview (no booking created).";
    confirmBtn.disabled=true;
    setTimeout(validateForm, 300);
  });

  // Init
  dateEl.value=todayYMD();
  refreshSlots();

  /* STARFIELD */
  const canvas=document.getElementById("starfield");
  const ctx=canvas.getContext("2d");
  let stars=[];
  let width=window.innerWidth, height=window.innerHeight;

  function resizeCanvas(){
    width=window.innerWidth; height=window.innerHeight;
    canvas.width=width; canvas.height=height;
    const count=Math.min(240, Math.floor((width*height)/11000));
    stars=Array.from({length:count},()=>({
      x:Math.random()*width,
      y:Math.random()*height,
      r:Math.random()*1.5+0.4,
      o:Math.random(),
      tw:Math.random()*2+1
    }));
  }
  window.addEventListener("resize", resizeCanvas);

  let shootingStars=[];
  function spawnShootingStar(){
    const startX=Math.random()*width*0.6;
    const startY=Math.random()*height*0.3;
    const len=Math.random()*260+140;
    shootingStars.push({
      x:startX,y:startY,
      vx:6+Math.random()*4,
      vy:3+Math.random()*3,
      life:0,maxLife:35+Math.random()*20,
      length:len
    });
  }

  function drawStarfield(){
    ctx.clearRect(0,0,width,height);

    const hue=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--galaxy-hue"))||220;
    ctx.fillStyle=`hsla(${hue},55%,6%,0.92)`;
    ctx.fillRect(0,0,width,height);

    const t=Date.now()*0.001;
    for(const s of stars){
      const pulse=0.5+0.5*Math.sin(t*s.tw+s.x);
      ctx.globalAlpha=s.o*pulse;
      ctx.beginPath();
      ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
      ctx.fillStyle="#e5f2ff";
      ctx.fill();
    }
    ctx.globalAlpha=1;

    for(let i=shootingStars.length-1;i>=0;i--){
      const sh=shootingStars[i];
      sh.life++; sh.x+=sh.vx; sh.y+=sh.vy;
      const p=sh.life/sh.maxLife;
      if(p>=1){ shootingStars.splice(i,1); continue; }
      const alpha=1-p;
      const tailX=sh.x-sh.vx*sh.length*0.1;
      const tailY=sh.y-sh.vy*sh.length*0.1;

      const grad=ctx.createLinearGradient(sh.x,sh.y,tailX,tailY);
      grad.addColorStop(0, `hsla(${(hue+10)%360}, 90%, 78%, ${alpha})`);
      grad.addColorStop(1, "rgba(37, 99, 235, 0)");

      ctx.strokeStyle=grad;
      ctx.lineWidth=2;
      ctx.beginPath();
      ctx.moveTo(sh.x, sh.y);
      ctx.lineTo(tailX, tailY);
      ctx.stroke();
    }

    requestAnimationFrame(drawStarfield);
  }

  setInterval(()=>{ if(Math.random()<0.7) spawnShootingStar(); }, 7000);
  resizeCanvas();
  drawStarfield();
});
</script>
</body>
</html>
